webpackJsonp([1],{"/BUy":function(t,e){},"0ptm":function(t,e){},"3RrP":function(t,e){},"71ib":function(t,e){},"8hWe":function(t,e){},CGBd:function(t,e){},EAqX:function(t,e){},Kej2:function(t,e){},L9ZW:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=(a("feh2"),{data:function(){return{tabs:[{title:"首页",path:"/Home"},{title:"分类",path:"/Category"},{title:"我的",path:"/Profile"}]}},methods:{pushView:function(t){if("/Home"==t.path){var e=JSON.parse(sessionStorage.getItem("currentSession"));this.$router.push({path:e.path})}else this.$router.push({path:t.path})}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tabbar"}},[a("ul",t._l(t.tabs,function(e,n){return a("li",{key:n,on:{click:function(a){return t.pushView(e)}}},[t._v("\n            "+t._s(e.title)+"\n        ")])}),0)])},staticRenderFns:[]};var i={name:"App",components:{Tabbar:a("VU/8")(s,o,!1,function(t){a("Kej2")},"data-v-dd4e6a04",null).exports},created:function(){}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("Tabbar")],1)},staticRenderFns:[]};var c=a("VU/8")(i,r,!1,function(t){a("ykDc")},null,null).exports,l=a("/ocq"),u=(a("v2ns"),a("7QTg")),h={data:function(){return{focus:[],swiperOption:{spaceBetween:1,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}}},methods:{callback:function(){console.log("图片")}},components:{swiper:u.swiper,swiperSlide:u.swiperSlide},created:function(){var t=this;this.$http.get("http://localhost:3000/api/focus").then(function(e){t.focus=e.data.focus}).catch(function(t){console.log(t)})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"focus"}},[a("swiper",{ref:"mySwiper",staticClass:"focusSwiper",attrs:{options:t.swiperOption}},[t._l(t.focus,function(e,n){return a("swiper-slide",{key:n,staticClass:"focusImg",nativeOn:{click:function(e){return t.callback(e)}}},[a("img",{attrs:{src:e.imageUrl,alt:""}})])}),t._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var p=a("VU/8")(h,d,!1,function(t){a("EAqX")},"data-v-541eee57",null).exports,f=a("mvHQ"),v=a.n(f),g={data:function(){return{navList:[{title:"精选",path:"/Home/JingXuan"},{title:"优惠",path:"/Home/YouHui"},{title:"海淘",path:"/Home/HaiTao"},{title:"发现",path:"/Home/FaXian"},{title:"原创",path:"/Home/YuanChuang"}],selectedStyle:{color:"red"},defaultStyle:{color:"black"}}},computed:{currentSelected:function(){return this.$store.state.currentSelected}},methods:{pushView:function(t,e){if(sessionStorage){var a=v()({currentSelected:e,path:t.path});sessionStorage.setItem("currentSession",a)}this.$store.commit("CHANGESELECTED",{currentSelected:e,path:t.path}),this.$router.push({path:t.path})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navBar"}},[a("ul",t._l(t.navList,function(e,n){return a("li",{key:n,style:t.currentSelected==n?t.selectedStyle:t.defaultStyle,on:{click:function(a){return t.pushView(e,n)}}},[t._v("\n            "+t._s(e.title)+"\n        ")])}),0)])},staticRenderFns:[]};var m={data:function(){return{focus:[]}},components:{Focus:p,navBar:a("VU/8")(g,_,!1,function(t){a("ghpV")},"data-v-220d4854",null).exports},created:function(){if(sessionStorage){var t=JSON.parse(sessionStorage.getItem("currentSession"));console.log(t),this.$store.commit("CHANGESELECTED",{currentSelected:t.currentSelected}),this.$router.push(t.path)}}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Home"}},[e("Focus"),this._v(" "),e("navBar"),this._v(" "),e("div",{attrs:{id:"contentList"}},[e("keep-alive",[e("router-view")],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(m,y,!1,function(t){a("uGyO")},"data-v-ee31f058",null).exports,S={data:function(){return{goodsList:[],loadURL:"http://localhost:3000/api/home?sectionId=2",pageNo:1}},methods:{loadMore:function(){this.pageNo++;var t=this,e=this.loadURL+"&pageNo="+this.pageNo+"&pageSize=20";this.$http.get(e).then(function(e){console.log(e);for(var a=e.data.data,n=0;n<a.length;n++)t.goodsList.push(a[n])}).catch(function(t){console.log(t)})}},activated:function(){var t=this;this.$http.get(this.loadURL+"&pageNo=1&pageSize=20").then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"FaXian"}},[a("ul",[t._l(t.goodsList,function(e,n){return a("li",{key:n},[a("div",[a("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),a("span",[t._v(t._s(e.title))]),t._v(" "),a("span",[a("span",[t._v(t._s(e.mallName))]),t._v(" "),a("span",[t._v(t._s(t._f("filterPubDate")(e.pubDate)))])])])}),t._v(" "),a("li",{staticStyle:{width:"100%",height:"44px",background:"lightblue"},on:{click:t.loadMore}},[t._v("加载更多")])],2)])},staticRenderFns:[]};var R=a("VU/8")(S,V,!1,function(t){a("/BUy")},"data-v-6f9eff7e",null).exports,w={props:{sunplazaEntrys:{type:Array}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"SunplazaEntery"}},[e("ul",this._l(this.sunplazaEntrys,function(t,a){return e("li",{key:a},[e("img",{attrs:{src:t.icon,alt:""}})])}),0)])},staticRenderFns:[]};var H=a("VU/8")(w,$,!1,function(t){a("br1g")},"data-v-239fbf79",null).exports,b={data:function(){return{pageNo:1}},props:{goodsList:{type:[Array]},loadURL:{type:String}},methods:{loadMore:function(){this.pageNo++;var t=this,e=this.loadURL+"&pageNo="+this.pageNo+"&pageSize=20";this.$http.get(e).then(function(a){console.log("加载更多"+e),console.log(a.data.listIndex);var n=[];if(a.data.listIndex)for(var s=a.data.listIndex,o=0;o<s.length;o++)n.push(s[o].value);else n=a.data.data;for(o=0;o<n.length;o++)t.goodsList.push(n[o])})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"GoodsList"}},[a("ul",[t._l(t.goodsList,function(e,n){return a("li",{key:n},[a("div",{staticClass:"cellLeft"},[a("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),a("div",{staticClass:"cellRight"},[a("span",[t._v(t._s(t._f("filterCount")(e.title,20)))]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("filterCount")(e.price,20)))]),t._v(" "),a("span",[a("span",[t._v(t._s(e.mallName))]),t._v(" "),a("span",[t._v(t._s(t._f("filterPubDate")(e.pubDate)))]),t._v(" "),a("span",[t._v("ca")])])])])}),t._v(" "),a("p",{staticClass:"loadMore",on:{click:t.loadMore}},[t._v("加载更多")])],2)])},staticRenderFns:[]};var C=a("VU/8")(b,E,!1,function(t){a("71ib")},"data-v-3d76dc5c",null).exports,U={data:function(){return{sunplazaEntrys:[],goodsList:[],loadURL:"http://localhost:3000/api/home?sectionId=99"}},components:{SunplazaEntery:H,GoodsList:C},methods:{loadData:function(t){}},activated:function(){console.log("精选视图激活");var t=this;this.$http.get(this.loadURL+"&pageNo=1&pageSize=20").then(function(e){t.sunplazaEntrys=e.data.sunplazaEntrys;for(var a=e.data.listIndex,n=[],s=0;s<a.length;s++)n.push(a[s].value);t.goodsList=n,console.log(t.goodsList)}).catch(function(t){console.log(t)})},deactivated:function(){console.log("离开精选视图")},created:function(){}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"JingXuan"}},[e("SunplazaEntery",{attrs:{sunplazaEntrys:this.sunplazaEntrys}}),this._v(" "),e("GoodsList",{attrs:{goodsList:this.goodsList,loadURL:this.loadURL}})],1)},staticRenderFns:[]};var x=a("VU/8")(U,k,!1,function(t){a("QHW4")},"data-v-09a75760",null).exports,N={data:function(){return{goodsList:[],loadURL:"http://localhost:3000/api/home?sectionId=0"}},components:{GoodsList:C},activated:function(){console.log("优惠视图激活");var t=this;this.$http.get(this.loadURL+"&pageNo=1&pageSize=20").then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})},deactivated:function(){console.log("离开优惠视图")},created:function(){}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"YouHui"}},[e("GoodsList",{attrs:{goodsList:this.goodsList,loadURL:this.loadURL}})],1)},staticRenderFns:[]};var M=a("VU/8")(N,I,!1,function(t){a("lxXt")},"data-v-05f9c780",null).exports,F={data:function(){return{goodsList:[],loadURL:"http://localhost:3000/api/home?sectionId=1"}},components:{GoodsList:C},activated:function(){console.log("海淘视图激活");var t=this;this.$http.get(this.loadURL+"&pageNo=1&pageSize=20").then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})},deactivated:function(){console.log("离开海淘视图")},created:function(){}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"HaiTao"}},[e("GoodsList",{attrs:{goodsList:this.goodsList,loadURL:this.loadURL}})],1)},staticRenderFns:[]};var P=a("VU/8")(F,D,!1,function(t){a("L9ZW")},"data-v-a0220f9e",null).exports,z={data:function(){return{goodsList:[],clickedFavouted:!1,favoritedStyle:{color:"red"},seletedIndex:0,pageNo:1,loadURL:"http://localhost:3000/api/home?sectionId=34"}},methods:{favorited:function(t){console.log("点赞"),this.seletedIndex=t,this.clickedFavouted=!0},loadMore:function(){console.log("加载更多"),this.pageNo++;var t=this,e=this.loadURL+"&pageNo="+this.pageNo+"&pageSize=20";this.$http.get(e).then(function(e){console.log(e);for(var a=e.data.data,n=0;n<a.length;n++)t.goodsList.push(a[n])}).catch(function(t){console.log(t)})}},activated:function(){var t=this;this.$http.get(this.loadURL+"&pageNo=1&pageSize=20").then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"YuanChuang"}},[a("ul",[t._l(t.goodsList,function(e,n){return a("li",{key:n},[a("div",{staticClass:"cellTop"},[a("img",{attrs:{src:e.hdCover}})]),t._v(" "),a("div",{staticClass:"cellBottom"},[a("span",[a("span",[t._v("\n                         "+t._s(t._f("getPubDateDate")(e.pubDate))+"\n                     ")]),t._v(" "),a("span",[t._v("\n                        "+t._s(t._f("getPubDateMonth")(e.pubDate))+"\n                     ")]),t._v(" "),a("span",[t._v("-")])]),t._v(" "),a("span",[a("span",[t._v(t._s(e.title))]),t._v(" "),a("span",[t._v(t._s(t._f("filterCount")(e.synopsis,40)))]),t._v(" "),a("span",[a("span",{staticClass:"fa fa-user-o"}),t._v(" "),a("span",[t._v(t._s(e.createName))]),t._v(" "),a("span",{staticClass:"fa fa-thumbs-o-up",style:t.clickedFavouted&&n==t.seletedIndex?t.favoritedStyle:{color:"lightgray"},on:{click:function(a){e.favoriteCount++,t.favorited(n)}}},[t._v(t._s(e.favoriteCount))])])])])])}),t._v(" "),a("p",{staticStyle:{width:"100%",height:"44px",background:"lightblue"},on:{click:t.loadMore}},[t._v("加载更多")])],2)])},staticRenderFns:[]};var G=a("VU/8")(z,A,!1,function(t){a("h0gG")},"data-v-54b8cbca",null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"Profile"}},[this._v("我的")])},staticRenderFns:[]};var T=a("VU/8")({},O,!1,function(t){a("NPqV")},"data-v-acf03fe8",null).exports,X={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"MallListView"}},[this._v("\n    分类列表\n")])},staticRenderFns:[]};var B=a("VU/8")({},X,!1,function(t){a("NL2Z")},"data-v-bf485aea",null).exports,J={components:{MallListView:B},props:{foreignMall:{type:Array},nativeMall:{type:Array},typeList:{type:Array}},created:function(){console.log(this.foreignMall),console.log(this.nativeMall),console.log(this.typeList)}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"MallList"}},[a("ul",[a("li",[t._v("国外电商")]),t._v(" "),a("li",[t._v("国内电商")]),t._v(" "),t._l(t.typeList,function(e,n){return a("li",{key:n},[t._v("\n            "+t._s(e.name)+"\n        ")])})],2),t._v(" "),a("router-view",{attrs:{name:"foreign"}})],1)},staticRenderFns:[]};var Y=a("VU/8")(J,W,!1,function(t){a("k3A3")},"data-v-867c980a",null).exports,Z={methods:{showSearchView:function(){console.log("显示搜索页面"),this.$router.push({name:"searchView"})}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"SearchInput"}},[e("input",{attrs:{type:"search"},on:{focus:this.showSearchView}})])},staticRenderFns:[]};var Q=a("VU/8")(Z,q,!1,function(t){a("ri9o")},"data-v-0b9d692b",null).exports,j={props:{tagList:{type:[Array]}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"TagList"}},t._l(t.tagList,function(e,n){return a("button",{key:n},[a("span",[t._v(t._s(e.name||e.key))])])}),0)},staticRenderFns:[]};var tt={data:function(){return{tagList:[],foreignMall:[],nativeMall:[],typeList:[]}},components:{MallList:Y,SearchInput:Q,TagList:a("VU/8")(j,K,!1,function(t){a("lISZ")},"data-v-d744b10a",null).exports},created:function(){var t=this;this.$http.get("http://localhost:3000/api/category").then(function(e){console.log(e),t.tagList=e.data.tagList,t.foreignMall=e.data.foreignMall,t.nativeMall=e.data.nativeMall,t.typeList=e.data.typeList})}},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Category"}},[e("search-input"),this._v(" "),e("tag-list",{attrs:{tagList:this.tagList}}),this._v(" "),e("mall-list",{attrs:{foreignMall:this.foreignMall,nativeMall:this.nativeMall,typeList:this.typeList}}),this._v(" "),e("transition",{attrs:{name:"searchView"}},[e("router-view")],1)],1)},staticRenderFns:[]};var at=a("VU/8")(tt,et,!1,function(t){a("CGBd")},"data-v-c4d3f2fc",null).exports,nt={data:function(){return{searchValue:"",searchHistory:[]}},methods:{cancelSearch:function(){this.$router.go(-1)},searchByHistory:function(t){var e="http://localhost:3000/api/search?searchValue="+t,a=this;this.$http.get(e).then(function(e){localStorage.setItem("searchValue",t),a.$router.push({name:"SearchResultView",params:{response:e}})})},search:function(){var t="http://localhost:3000/api/search?searchValue="+this.searchValue,e=this;this.$http.get(t).then(function(t){localStorage.setItem("searchValue",e.searchValue),e.$router.push({name:"SearchResultView",params:{response:t}})});var a=localStorage.getItem("searchHistory");if(a){var n=JSON.parse(a),s=(e=this,n.indexOf(this.searchValue));-1!=s&&n.splice(s,1),n.push(this.searchValue),localStorage.setItem("searchHistory",v()(n)),this.searchHistory=n.reverse()}else{var o=[this.searchValue];localStorage.setItem("searchHistory",v()(o)),this.searchHistory=o.reverse()}},deleteHistory:function(t){var e=localStorage.getItem("searchHistory"),a=JSON.parse(e);a.splice(t,1),localStorage.setItem("searchHistory",v()(a)),this.searchHistory.splice(t,1)}},created:function(){var t=localStorage.getItem("searchHistory"),e=JSON.parse(t);null!=e&&(this.searchHistory=e.reverse())}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"SearchView"}},[a("div",{staticClass:"searchViewHead"},[a("i",{staticClass:"fa fa-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"想买什么搜什么",autofocus:""},domProps:{value:t.searchValue},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.search(e):null},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),t._v(" "),a("span",{on:{click:t.cancelSearch}},[t._v("取消")])]),t._v(" "),t.searchHistory.length?a("ul",{staticClass:"searchHistory"},t._l(t.searchHistory,function(e,n){return a("li",{key:n,on:{click:function(a){return t.searchByHistory(e)}}},[t._v("\n            "+t._s(e)+" \n            "),t._v(" "),a("i",{staticClass:"fa fa-times-circle-o",staticStyle:{color:"lightgray"},on:{click:function(e){return e.stopPropagation(),t.deleteHistory(n)}}})])}),0):t._e()])},staticRenderFns:[]};var ot=a("VU/8")(nt,st,!1,function(t){a("8hWe")},"data-v-098d54ae",null).exports,it={data:function(){return{searchSectionResults:[],goodsList:[]}},components:{GoodsList:C},methods:{reloadWindow:function(){alert("页面刷新")}},created:function(){if(console.log("组件重建"),this.$route.params.response){console.log("路由没有带参数过来");var t=this.$route.params.response.data.data;this.searchSectionResults=t.searchSectionResults,this.goodsList=t.topics}else{console.log("自己发起请求");var e="http://localhost:3000/api/search?searchValue="+localStorage.getItem("searchValue"),a=this;console.log(a),this.$http.get(e).then(function(t){a.searchSectionResults=t.data.data.searchSectionResults,a.goodsList=t.data.data.topics,console.log(a.searchSectionResults),console.log(a.goodsList)})}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"searchResult"}},[a("div",{staticClass:"searchResultHead"},[a("i",{staticClass:"fa fa-chevron-left backArrow",on:{click:function(e){return t.$router.go(-1)}}}),t._v(" "),t._m(0)]),t._v(" "),a("ul",{staticClass:"searchSectionBar"},t._l(t.searchSectionResults,function(e,n){return a("li",{key:n},[t._v("\n            "+t._s(e.name)+"\n        ")])}),0),t._v(" "),a("div",{staticClass:"topics"},[a("goods-list",{attrs:{goodsList:t.goodsList}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"searchInput"},[e("i",{staticClass:"fa fa-search"}),this._v(" "),e("input",{attrs:{type:"search",placeholder:"搜索内容"}})])}]};var ct=a("VU/8")(it,rt,!1,function(t){a("cbC0")},"data-v-07cadc44",null).exports,lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"MallListView"}},[this._v("\n    国外电商\n")])},staticRenderFns:[]};var ut=a("VU/8")({},lt,!1,function(t){a("ighI")},"data-v-c3121e3a",null).exports,ht={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"MallListView"}},[this._v("\n    国内电商\n")])},staticRenderFns:[]};var dt=a("VU/8")({},ht,!1,function(t){a("0ptm")},"data-v-7b48125f",null).exports;n.a.use(l.a);var pt=new l.a({routes:[{path:"/",redirect:"/Home"},{path:"/Home",component:L,name:"Home",children:[{path:"JingXuan",component:x,name:"JingXuan"},{path:"YouHui",component:M,name:"YouHui"},{path:"HaiTao",component:P,name:"HaiTao"},{path:"FaXian",component:R,name:"FaXian"},{path:"YuanChuang",component:G,name:"YuanChuang"}]},{path:"/Profile",component:T,name:"Profile"},{path:"/Category",component:at,name:"Category",children:[{path:"SearchView",component:ot,name:"searchView"},{path:"SearchResultView",component:ct,name:"SearchResultView"},{path:"mallList",components:{default:B,foreign:ut,navtive:dt}}]}]}),ft=a("mtWM"),vt=a.n(ft),gt=a("NYxO");n.a.use(gt.a);var _t=new gt.a.Store({state:{currentSelected:0,currentPath:"/Home/JingXuan"},getters:{},mutations:{CHANGESELECTED:function(t,e){t.currentSelected=e.currentSelected,t.currentPath=e.path}},actions:{}}),mt={filters:{filterPubDate:function(t){var e=(new Date).getTime()-t,a=new Date(t);return e>36e5&&e<864e5?(console.log(a.getHours()),a.getHours()+":"+a.getMinutes()):e<36e5?parseInt(e/1e3/60)+"分钟前":e>864e5?a.getMonth()+1+"/"+a.getDate():void 0},getPubDateMonth:function(t){return new Date(t).toString().split(" ")[1]},getPubDateDate:function(t){return new Date(t).getDate()},filterCount:function(t,e){return t.length>e?t.slice(0,e)+"...":t}}};a("3RrP");n.a.prototype.$http=vt.a,n.a.config.productionTip=!1,n.a.mixin(mt),new n.a({el:"#app",router:pt,store:_t,components:{App:c},template:"<App/>"})},NL2Z:function(t,e){},NPqV:function(t,e){},QHW4:function(t,e){},br1g:function(t,e){},cbC0:function(t,e){},feh2:function(t,e){},ghpV:function(t,e){},h0gG:function(t,e){},ighI:function(t,e){},k3A3:function(t,e){},lISZ:function(t,e){},lxXt:function(t,e){},ri9o:function(t,e){},uGyO:function(t,e){},v2ns:function(t,e){},ykDc:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.87250ada9ea4105abaa6.js.map